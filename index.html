<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Telegram Profile</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body {
    margin: 0;
    background: #151515;
    color: white;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

.profile {
    text-align: center;
}

.avatar {
    width: 96px;
    height: 96px;
    border-radius: 50%;
    background: #333;
    object-fit: cover;
    margin-bottom: 12px;
}

.name {
    font-size: 18px;
    font-weight: bold;
}

.username {
    font-size: 14px;
    color: #888;
}

.error {
    color: #ff5555;
    text-align: center;
}
</style>
</head>

<body>

<div id="app" class="profile" style="display:none">
    <img id="avatar" class="avatar">
    <div id="name" class="name"></div>
    <div id="username" class="username"></div>
</div>

<div id="error" class="error" style="display:none"></div>

<script>
const tg = window.Telegram?.WebApp;

if (!tg) {
    document.getElementById("error").style.display = "block";
    document.getElementById("error").innerText =
        "–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É Telegram";
} else {
    tg.ready();

    const user = tg.initDataUnsafe?.user;

    if (!user) {
        document.getElementById("error").style.display = "block";
        document.getElementById("error").innerText =
            "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è";
    } else {
        document.getElementById("app").style.display = "block";

        document.getElementById("name").textContent =
            user.first_name + (user.last_name ? " " + user.last_name : "");

        document.getElementById("username").textContent =
            user.username ? "@" + user.username : "–ë–µ–∑ username";

        document.getElementById("avatar").src =
            user.photo_url || "https://via.placeholder.com/96?text=üë§";
    }
}
</script>

</body>
</html>
